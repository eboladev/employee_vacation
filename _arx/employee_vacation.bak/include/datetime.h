/// $Header
/// ============================================================================
///		Author		: M. Ivanchenko
///		Date create	: 11-02-2013
///		Date update	: 11-02-2013
///		Comment		:
/// ============================================================================
#ifndef __RA_DATETIME_H__
#define __RA_DATETIME_H__

#include <sys/time.h>

namespace rele_auto
{

/// ############################################################################
///			class datetime
/// ############################################################################
    class datetime
	{
    public:
    /// ############################################################################
    ///			enum month
    /// ############################################################################
    enum month
    {
        January = 0,
        February = 1,
        March = 2,
        April = 3,
        May = 4,
        June = 5,
        July = 6,
        August = 7,
        September = 8,
        October = 9,
        November = 10,
        December = 11
    };
    /// ############################################################################
    ///			enum weekday
    /// ############################################################################
    enum weekday
    {
        Sunday = 0,
        Monday  = 1,
        Tuesday = 2,
        Wednesday = 3,
        Thursday = 4,
        Friday = 5,
        Saturday = 6
    };
    /// ========================================================================
    ///		CONSTRUCTORS/DESTRUCTOR
    /// ========================================================================
    private:
        /// --------------------------------------------------------------------
        //explicit datetime( const datetime &rhs );

	public:
        /// --------------------------------------------------------------------
        datetime( );
        /// --------------------------------------------------------------------
        virtual ~datetime( );

    /// ========================================================================
    ///		FUNCTIONS
    /// ========================================================================
    private:
        /// --------------------------------------------------------------------
        void update( );

	public:
        static datetime current( );
    /// ========================================================================
    ///		PROPERTIES
    /// ========================================================================
    private:

    public:
        /// --------------------------------------------------------------------
        /// get properties
        /// --------------------------------------------------------------------
        short day( ) const;
        short week_day( ) const;
        short month( ) const;
        int year( ) const;
        short year_day( ) const;
        short year_week( ) const;
        short hour( ) const;
        short minute( ) const;
        short second( ) const;
        int millisecond( ) const;
        /// --------------------------------------------------------------------
        /// set properties
        /// --------------------------------------------------------------------
        void day( short );
        void month( short );
        void year( int );
        void hour( short );
        void minute( short );
        void second( short );
        void microsecond( long );

    /// ========================================================================
    ///		OPERATORS
    /// ========================================================================
    private:
        /// --------------------------------------------------------------------
        datetime& operator=( const datetime &rhs );

	public:

    /// ========================================================================
    ///			FIELDS
    /// ========================================================================
    private:
        static const int _year_offset;
        static const int _month_offset;
        static const int _mksec_in_msec;

        struct timeval _time_in_sec;
        struct tm      _local_time;

    };//class datetime
/// ############################################################################
/// ----------------------------------------------------------------------------

}//namespace rele_auto
#endif // __RA_DATETIME_H__
