/// $Header
/// ============================================================================
///		Author		: M. Ivanchenko
///		Date create	: 14-10-2013
///		Date update	: 14-10-2013
///		Comment		:
/// ============================================================================
#ifndef __DIALOG_EMPLOYEE_H__
#define __DIALOG_EMPLOYEE_H__

#include <QDialog>
#include <QLineEdit>
#include <QPushButton>

#include "data_adapter_employee.h"

namespace rele_auto
{

namespace employee_vacation
{

/// ############################################################################
///			class dialog_employee
/// ############################################################################
    class dialog_employee : public QDialog
    {
    Q_OBJECT
    public:
        enum dialog_employee_mode
        {
            mode_add = 0,
            mode_edit = 1
        };

    /// ========================================================================
    ///		CONSTRUCTORS/DESTRUCTOR
    /// ========================================================================
    private:
        /// --------------------------------------------------------------------
        dialog_employee( const dialog_employee &rhs );

	public:
        /// --------------------------------------------------------------------
        explicit dialog_employee(
                                    QWidget *parent = 0,
                                    dialog_employee_mode mode = mode_add
                                );
        /// --------------------------------------------------------------------
        virtual ~dialog_employee( );

    /// ========================================================================
    ///		PROPERTIES
    /// ========================================================================
    public:
        /// --------------------------------------------------------------------
        const data_employee& employee( ) const
        {
            return this->_employee;
        }

        /// --------------------------------------------------------------------
        void employee( const data_employee& emp )
        {
            if( this->_mode!=mode_edit)
            {
                return;
            }
            this->_employee = emp;
            this->update_controls( );
        }

    /// ========================================================================
    ///		FUNCTIONS
    /// ========================================================================
    private:
        /// --------------------------------------------------------------------
        void initialize( );
        /// --------------------------------------------------------------------
        void init_layout( );
        /// --------------------------------------------------------------------
        void init_connections( );
        /// --------------------------------------------------------------------
        QWidget* init_employee( );
        /// --------------------------------------------------------------------
        QWidget* init_buttons( );
        /// --------------------------------------------------------------------
        void set_employee_data( );
        /// --------------------------------------------------------------------
        bool employee_data_valid( );
        /// --------------------------------------------------------------------
        void employee_db_update( );
        /// --------------------------------------------------------------------
        void employee_db_insert( );
        /// --------------------------------------------------------------------
        void update_controls( );

    public:
        /// --------------------------------------------------------------------
        void center_to_screen( );

    /// ========================================================================
    ///		PROPERTIES
    /// ========================================================================
    private:

	public:

    /// ========================================================================
    ///		OPERATORS
    /// ========================================================================
    private:
        /// --------------------------------------------------------------------
        dialog_employee& operator=( const dialog_employee &rhs );

	public:

    /// ========================================================================
    ///			SIGNALS
    /// ========================================================================

    /// ========================================================================
    ///			SLOTS
    /// ========================================================================
    public slots:
        /// --------------------------------------------------------------------
        void save_employee_data( );

    /// ========================================================================
    ///			FIELDS
    /// ========================================================================
    private:
        QLineEdit               *_txt_employee;

        QPushButton             *_btn_OK;
        QPushButton             *_btn_cancel;

        data_employee           _employee;
        dialog_employee_mode    _mode;

	};//class dialog_employee
/// ############################################################################
/// ----------------------------------------------------------------------------

}//    namespace employee_vacation

}//    namespace rele_auto

#endif // __DIALOG_EMPLOYEE_H__
